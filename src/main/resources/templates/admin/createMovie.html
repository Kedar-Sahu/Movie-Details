<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" 
th:replace="~{base :: layout(~{::title},~{::section})}">
<head>
<meta charset="UTF-8">
<title>Create New Movie Page</title>
</head>
<body>

    <section>
         <div class="container-fluid">
           <div class="row mt-4 rounded">
           
              <div class="col-8">
                <div class="card">
                  <div class="card-header bg-warning  text-center">
                    <h3>Movie Details</h3>
                    <th:block th:if="${session.succMsg}">
                       <p class="text-success text-center fw-bold">[[${session.succMsg}]]</p>
                       <th:block th:text="${@movieServiceImpl.removeSessionMessage()}"></th:block>
                    </th:block>
                    <th:block th:if="${session.errorMsg}">
                       <p class="text-danger text-center fw-bold">[[${session.errorMsg}]]</p>
                       <th:block th:text="${@movieServiceImpl.removeSessionMessage()}"></th:block>
                    </th:block>
                  </div>
                  <div class="card-body">
                     <div class="row">
                       <div class="col-12">
                         <table class="table table-bordered text-center">
                           <thead>
                             <tr>
                               <th scope="col">Sr. No.</th>
                               <th scope="col">Movie Name</th>
                               <th scope="col">ReleaseYear</th>
                               <th scope="col">Director</th>
                               <th scope="col">Action</th>
                             </tr>
                          </thead>
                          <tbody>
                             <tr th:each="m:${movieList}">
                               <th>[[${m.movieId}]]</th>
                               <td>[[${m.name}]]</td>
                               <td>[[${m.releaseYear}]]</td>
                               <td>[[${m.director}]]</td>
                               <td>
                                <a class="btn btn-primary" th:href="@{'/api/admin/loadUpdateMovie/'+${m.movieId}}"><i class="bi bi-pencil-square"></i> Update</a>
                                <a class="btn btn-danger " th:href="@{'/api/admin/deleteMovie/'+${m.movieId}}"><i class="bi bi-trash-fill"></i> Delete</a>
                               </td>
                            </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
             </div> 
             
          <div class="col-4 ">
                <div class="card">
                  <div class="card-header bg-warning  text-center">
                     <h3>Add New Movie</h3>
                     
                   </div>
                  <div class="card-body">
                     <form  action="/api/admin/saveMovie" method="post" enctype="multipart/form-data">
                       <div class="row">
                          <div class="col-6 mt-3">
                            <label>Movie Name</label>
                              <input type="text" class="form-control" name="name"  placeholder="movie name">
                          </div>
                          <div class="col-6 mt-3">
                            <label>ReleaseYear</label>
                              <input type="number" class="form-control" name="releaseYear"  placeholder="releaseYear">
                          </div>
                          <div class="col-6 mt-3">
                            <label>Director</label>
                              <input type="text" class="form-control" name="director"  placeholder="director">
                          </div>
                          <div class="col-6 mt-3">
                            <label>Studio</label>
                              <input type="text" class="form-control" name="studio"  placeholder="studdio">
                          </div>
                          <div class="col-12 mt-3">
                            <label>MovieCast</label>
                              <textarea  class="form-control" name="movieCast"  placeholder="movieCast"></textarea>
                          </div>
                          <div class="col-6 mt-3">
                            <label>Budget</label>
                              <input type="text" class="form-control" name="budget"  placeholder="budget">
                          </div>
                          <div class="col-6 mt-3">
                            <label>Collection</label>
                              <input type="text" class="form-control" name="Collection"  placeholder="collection">
                          </div>
                          <div class="col-6 mt-3">
                            <label>Poster</label>
                              <input type="file" class="form-control" name="file"  placeholder="poster">
                          </div>
                          <div class="col-6 mt-3">
                            <label>Rating</label>
                              <input type="text"  class="form-control" name="rating"  placeholder="rating">
                          </div>
                          <div class="col-12 mt-3">
                            <button class="btn btn-success mx-3" >Submit</button>
                          </div>
                       </div>
                    </form>
                  </div>
                </div>
              </div>
      
        </div>
      </div> 
     
    </section>

</body>
</html>


